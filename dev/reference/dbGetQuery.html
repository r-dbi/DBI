<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Send query, retrieve results and then clear result set — dbGetQuery • DBI</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Send query, retrieve results and then clear result set — dbGetQuery"><meta property="og:description" content='Returns the result of a query as a data frame.
dbGetQuery() comes with a default implementation
(which should work with most backends) that calls
dbSendQuery(), then dbFetch(), ensuring that
the result is always free-d by dbClearResult().
For retrieving chunked/paged results or for passing query parameters,
see dbSendQuery(), in particular the "The data retrieval flow" section.

Methods in other packagesThis documentation page describes the generics. Refer to the documentation pages linked below for the documentation for the methods that are implemented in various backend packages.
AzureKusto::dbGetQuery("AzureKustoConnection", "character")
DatabaseConnector::dbGetQuery("DatabaseConnectorConnection", "character")
dittodb::dbGetQuery("DBIMockRPostgreSQLConnection", "character")
implyr::dbGetQuery("src_impala", "character")
odbc::dbGetQuery("OdbcConnection", "character")
pool::dbGetQuery("Pool", "ANY")
RAthena::dbGetQuery("AthenaConnection", "character")
RH2::dbGetQuery("H2Connection", "character")
RJDBC::dbGetQuery("JDBCConnection", "character")
RPostgreSQL::dbGetQuery("PostgreSQLConnection", "character")
RPresto::dbGetQuery("PrestoConnection", "character")
sparklyr::dbGetQuery("spark_connection", "ANY")

'><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">DBI</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">1.1.3.9009</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/DBI.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/r-dbi/DBI/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Send query, retrieve results and then clear result set</h1>
    <small class="dont-index">Source: <a href="https://github.com/r-dbi/DBI/blob/HEAD/R/dbGetQuery.R" class="external-link"><code>R/dbGetQuery.R</code></a>, <a href="https://github.com/r-dbi/DBI/blob/HEAD/R/dbGetQueryArrow.R" class="external-link"><code>R/dbGetQueryArrow.R</code></a></small>
    <div class="hidden name"><code>dbGetQuery.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Returns the result of a query as a data frame.
<code>dbGetQuery()</code> comes with a default implementation
(which should work with most backends) that calls
<code><a href="dbSendQuery.html">dbSendQuery()</a></code>, then <code><a href="dbFetch.html">dbFetch()</a></code>, ensuring that
the result is always free-d by <code><a href="dbClearResult.html">dbClearResult()</a></code>.
For retrieving chunked/paged results or for passing query parameters,
see <code><a href="dbSendQuery.html">dbSendQuery()</a></code>, in particular the "The data retrieval flow" section.</p>
<p></p><div class="section">
<h3 id="methods-in-other-packages">Methods in other packages<a class="anchor" aria-label="anchor" href="#methods-in-other-packages"></a></h3><p>This documentation page describes the generics. Refer to the documentation pages linked below for the documentation for the methods that are implemented in various backend packages.</p><ul><li><p><code><a href="https://rdrr.io/pkg/AzureKusto/man/DBI_query.html" class="external-link">AzureKusto::dbGetQuery("AzureKustoConnection", "character")</a></code></p></li>
<li><p><code><a href="https://ohdsi.github.io/DatabaseConnector/reference/DatabaseConnectorConnection-class.html" class="external-link">DatabaseConnector::dbGetQuery("DatabaseConnectorConnection", "character")</a></code></p></li>
<li><p><code><a href="https://dittodb.jonkeane.com/reference/mock-db-methods.html" class="external-link">dittodb::dbGetQuery("DBIMockRPostgreSQLConnection", "character")</a></code></p></li>
<li><p><code><a href="https://rdrr.io/pkg/implyr/man/dbGetQuery-src_impala-character-method.html" class="external-link">implyr::dbGetQuery("src_impala", "character")</a></code></p></li>
<li><p><code><a href="https://r-dbi.github.io/odbc/reference/OdbcConnection.html" class="external-link">odbc::dbGetQuery("OdbcConnection", "character")</a></code></p></li>
<li><p><code><a href="http://rstudio.github.io/pool/reference/DBI-wrap.html" class="external-link">pool::dbGetQuery("Pool", "ANY")</a></code></p></li>
<li><p><code><a href="https://rdrr.io/pkg/RAthena/man/dbGetQuery.html" class="external-link">RAthena::dbGetQuery("AthenaConnection", "character")</a></code></p></li>
<li><p><code><a href="https://rdrr.io/pkg/RH2/man/H2Connection-methods.html" class="external-link">RH2::dbGetQuery("H2Connection", "character")</a></code></p></li>
<li><p><code><a href="https://rdrr.io/pkg/RJDBC/man/JDBCConnection-methods.html" class="external-link">RJDBC::dbGetQuery("JDBCConnection", "character")</a></code></p></li>
<li><p><code><a href="https://rdrr.io/pkg/RPostgreSQL/man/dbSendQuery-methods.html" class="external-link">RPostgreSQL::dbGetQuery("PostgreSQLConnection", "character")</a></code></p></li>
<li><p><code><a href="https://rdrr.io/pkg/RPresto/man/PrestoConnection-class.html" class="external-link">RPresto::dbGetQuery("PrestoConnection", "character")</a></code></p></li>
<li><p><code>sparklyr::dbGetQuery("spark_connection", "ANY")</code></p></li>
</ul></div>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">dbGetQuery</span><span class="op">(</span><span class="va">conn</span>, <span class="va">statement</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">dbGetQueryArrow</span><span class="op">(</span><span class="va">conn</span>, <span class="va">statement</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>conn</dt>
<dd><p>A <a href="DBIConnection-class.html">DBIConnection</a> object, as returned by
<code><a href="dbConnect.html">dbConnect()</a></code>.</p></dd>


<dt>statement</dt>
<dd><p>a character string containing SQL.</p></dd>


<dt>...</dt>
<dd><p>Other parameters passed on to methods.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p><code>dbGetQuery()</code> always returns a <a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></p>


<p>with as many rows as records were fetched and as many
columns as fields in the result set,
even if the result is a single value
or has one
or zero rows.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>This method is for <code>SELECT</code> queries only
(incl. other SQL statements that return a <code>SELECT</code>-alike result,
e. g. execution of a stored procedure or data manipulation queries
like <code>INSERT INTO ... RETURNING ...</code>).
To execute a stored procedure that does not return a result set,
use <code><a href="dbExecute.html">dbExecute()</a></code>.</p>
<p>Some backends may
support data manipulation statements through this method for compatibility
reasons.  However, callers are strongly advised to use
<code><a href="dbExecute.html">dbExecute()</a></code> for data manipulation statements.</p>
    </div>
    <div id="implementation-notes">
    <h2>Implementation notes</h2>
    

<p>Subclasses should override this method only if they provide some sort of
performance optimization.</p>
    </div>
    <div id="failure-modes">
    <h2>Failure modes</h2>
    


<p>An error is raised when issuing a query over a closed
or invalid connection,
if the syntax of the query is invalid,
or if the query is not a non-<code>NA</code> string.
If the <code>n</code> argument is not an atomic whole number
greater or equal to -1 or Inf, an error is raised,
but a subsequent call to <code>dbGetQuery()</code> with proper <code>n</code> argument succeeds.</p>
    </div>
    <div id="additional-arguments">
    <h2>Additional arguments</h2>
    


<p>The following arguments are not part of the <code>dbGetQuery()</code> generic
(to improve compatibility across backends)
but are part of the DBI specification:</p><ul><li><p><code>n</code> (default: -1)</p></li>
<li><p><code>params</code> (default: <code>NULL</code>)</p></li>
<li><p><code>immediate</code> (default: <code>NULL</code>)</p></li>
</ul><p>They must be provided as named arguments.
See the "Specification" and "Value" sections for details on their usage.</p>
    </div>
    <div id="specification">
    <h2>Specification</h2>
    



<p>A column named <code>row_names</code> is treated like any other column.</p>
<p>The <code>n</code> argument specifies the number of rows to be fetched.
If omitted, fetching multi-row queries with one
or more columns returns the entire result.
A value of <a href="https://rdrr.io/r/base/is.finite.html" class="external-link">Inf</a> for the <code>n</code> argument is supported
and also returns the full result.
If more rows than available are fetched (by passing a too large value for
<code>n</code>), the result is returned in full without warning.
If zero rows are requested, the columns of the data frame are still fully
typed.
Fetching fewer rows than available is permitted,
no warning is issued.</p>
<p>The <code>param</code> argument allows passing query parameters, see <code><a href="dbBind.html">dbBind()</a></code> for details.</p>
    </div>
    <div id="specification-for-the-immediate-argument">
    <h2>Specification for the <code>immediate</code> argument</h2>
    



<p>The <code>immediate</code> argument supports distinguishing between "direct"
and "prepared" APIs offered by many database drivers.
Passing <code>immediate = TRUE</code> leads to immediate execution of the
query or statement, via the "direct" API (if supported by the driver).
The default <code>NULL</code> means that the backend should choose whatever API
makes the most sense for the database, and (if relevant) tries the
other API if the first attempt fails. A successful second attempt
should result in a message that suggests passing the correct
<code>immediate</code> argument.
Examples for possible behaviors:</p><ol><li><p>DBI backend defaults to <code>immediate = TRUE</code> internally</p><ol><li><p>A query without parameters is passed: query is executed</p></li>
<li><p>A query with parameters is passed:</p><ol><li><p><code>params</code> not given: rejected immediately by the database
because of a syntax error in the query, the backend tries
<code>immediate = FALSE</code> (and gives a message)</p></li>
<li><p><code>params</code> given: query is executed using <code>immediate = FALSE</code></p></li>
</ol></li>
</ol></li>
<li><p>DBI backend defaults to <code>immediate = FALSE</code> internally</p><ol><li><p>A query without parameters is passed:</p><ol><li><p>simple query: query is executed</p></li>
<li><p>"special" query (such as setting a config options): fails,
the backend tries <code>immediate = TRUE</code> (and gives a message)</p></li>
</ol></li>
<li><p>A query with parameters is passed:</p><ol><li><p><code>params</code> not given: waiting for parameters via <code><a href="dbBind.html">dbBind()</a></code></p></li>
<li><p><code>params</code> given: query is executed</p></li>
</ol></li>
</ol></li>
</ol></div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>For updates: <code><a href="dbSendStatement.html">dbSendStatement()</a></code> and <code><a href="dbExecute.html">dbExecute()</a></code>.</p>
<p>Other DBIConnection generics: 
<code><a href="DBIConnection-class.html">DBIConnection-class</a></code>,
<code><a href="dbAppendTable.html">dbAppendTable</a>()</code>,
<code><a href="dbCreateTable.html">dbCreateTable</a>()</code>,
<code><a href="dbDataType.html">dbDataType</a>()</code>,
<code><a href="dbDisconnect.html">dbDisconnect</a>()</code>,
<code><a href="dbExecute.html">dbExecute</a>()</code>,
<code><a href="dbExistsTable.html">dbExistsTable</a>()</code>,
<code><a href="dbGetException.html">dbGetException</a>()</code>,
<code><a href="dbGetInfo.html">dbGetInfo</a>()</code>,
<code><a href="dbIsReadOnly.html">dbIsReadOnly</a>()</code>,
<code><a href="dbIsValid.html">dbIsValid</a>()</code>,
<code><a href="dbListFields.html">dbListFields</a>()</code>,
<code><a href="dbListObjects.html">dbListObjects</a>()</code>,
<code><a href="dbListResults.html">dbListResults</a>()</code>,
<code><a href="dbListTables.html">dbListTables</a>()</code>,
<code><a href="dbReadTable.html">dbReadTable</a>()</code>,
<code><a href="dbRemoveTable.html">dbRemoveTable</a>()</code>,
<code><a href="dbSendQuery.html">dbSendQuery</a>()</code>,
<code><a href="dbSendStatement.html">dbSendStatement</a>()</code>,
<code><a href="dbWriteTable.html">dbWriteTable</a>()</code></p>
<p>Other data retrieval generics: 
<code><a href="dbBind.html">dbBind</a>()</code>,
<code><a href="dbClearResult.html">dbClearResult</a>()</code>,
<code><a href="dbFetch.html">dbFetch</a>()</code>,
<code><a href="dbHasCompleted.html">dbHasCompleted</a>()</code>,
<code><a href="dbSendQuery.html">dbSendQuery</a>()</code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">con</span> <span class="op">&lt;-</span> <span class="fu"><a href="dbConnect.html">dbConnect</a></span><span class="op">(</span><span class="fu">RSQLite</span><span class="fu">::</span><span class="fu"><a href="https://rsqlite.r-dbi.org/reference/SQLite.html" class="external-link">SQLite</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">":memory:"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="dbWriteTable.html">dbWriteTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"mtcars"</span>, <span class="va">mtcars</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">dbGetQuery</span><span class="op">(</span><span class="va">con</span>, <span class="st">"SELECT * FROM mtcars"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     mpg cyl  disp  hp drat    wt  qsec vs am gear carb</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  21.0   6 160.0 110 3.90 2.620 16.46  0  1    4    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  21.0   6 160.0 110 3.90 2.875 17.02  0  1    4    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  22.8   4 108.0  93 3.85 2.320 18.61  1  1    4    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  21.4   6 258.0 110 3.08 3.215 19.44  1  0    3    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  18.7   8 360.0 175 3.15 3.440 17.02  0  0    3    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  18.1   6 225.0 105 2.76 3.460 20.22  1  0    3    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7  14.3   8 360.0 245 3.21 3.570 15.84  0  0    3    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8  24.4   4 146.7  62 3.69 3.190 20.00  1  0    4    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9  22.8   4 140.8  95 3.92 3.150 22.90  1  0    4    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 19.2   6 167.6 123 3.92 3.440 18.30  1  0    4    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11 17.8   6 167.6 123 3.92 3.440 18.90  1  0    4    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12 16.4   8 275.8 180 3.07 4.070 17.40  0  0    3    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13 17.3   8 275.8 180 3.07 3.730 17.60  0  0    3    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14 15.2   8 275.8 180 3.07 3.780 18.00  0  0    3    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15 10.4   8 472.0 205 2.93 5.250 17.98  0  0    3    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16 10.4   8 460.0 215 3.00 5.424 17.82  0  0    3    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17 14.7   8 440.0 230 3.23 5.345 17.42  0  0    3    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18 32.4   4  78.7  66 4.08 2.200 19.47  1  1    4    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19 30.4   4  75.7  52 4.93 1.615 18.52  1  1    4    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20 33.9   4  71.1  65 4.22 1.835 19.90  1  1    4    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21 21.5   4 120.1  97 3.70 2.465 20.01  1  0    3    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22 15.5   8 318.0 150 2.76 3.520 16.87  0  0    3    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23 15.2   8 304.0 150 3.15 3.435 17.30  0  0    3    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24 13.3   8 350.0 245 3.73 3.840 15.41  0  0    3    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25 19.2   8 400.0 175 3.08 3.845 17.05  0  0    3    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26 27.3   4  79.0  66 4.08 1.935 18.90  1  1    4    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27 26.0   4 120.3  91 4.43 2.140 16.70  0  1    5    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28 30.4   4  95.1 113 3.77 1.513 16.90  1  1    5    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29 15.8   8 351.0 264 4.22 3.170 14.50  0  1    5    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 30 19.7   6 145.0 175 3.62 2.770 15.50  0  1    5    6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 31 15.0   8 301.0 335 3.54 3.570 14.60  0  1    5    8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 32 21.4   4 121.0 109 4.11 2.780 18.60  1  1    4    2</span>
<span class="r-in"><span><span class="fu">dbGetQuery</span><span class="op">(</span><span class="va">con</span>, <span class="st">"SELECT * FROM mtcars"</span>, n <span class="op">=</span> <span class="fl">6</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    mpg cyl disp  hp drat    wt  qsec vs am gear carb</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 21.0   6  160 110 3.90 2.620 16.46  0  1    4    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 21.0   6  160 110 3.90 2.875 17.02  0  1    4    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 22.8   4  108  93 3.85 2.320 18.61  1  1    4    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 21.4   6  258 110 3.08 3.215 19.44  1  0    3    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 18.1   6  225 105 2.76 3.460 20.22  1  0    3    1</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Pass values using the param argument:</span></span></span>
<span class="r-in"><span><span class="co"># (This query runs eight times, once for each different</span></span></span>
<span class="r-in"><span><span class="co"># parameter. The resulting rows are combined into a single</span></span></span>
<span class="r-in"><span><span class="co"># data frame.)</span></span></span>
<span class="r-in"><span><span class="fu">dbGetQuery</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">con</span>,</span></span>
<span class="r-in"><span>  <span class="st">"SELECT COUNT(*) FROM mtcars WHERE cyl = ?"</span>,</span></span>
<span class="r-in"><span>  params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">8</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   COUNT(*)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1        0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2        0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3        0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4       11</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5        0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6        7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7        0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8       14</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="dbDisconnect.html">dbDisconnect</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Retrieve data as arrow table</span></span></span>
<span class="r-in"><span><span class="va">con</span> <span class="op">&lt;-</span> <span class="fu"><a href="dbConnect.html">dbConnect</a></span><span class="op">(</span><span class="fu">RSQLite</span><span class="fu">::</span><span class="fu"><a href="https://rsqlite.r-dbi.org/reference/SQLite.html" class="external-link">SQLite</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">":memory:"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="dbWriteTable.html">dbWriteTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"mtcars"</span>, <span class="va">mtcars</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">dbGetQueryArrow</span><span class="op">(</span><span class="va">con</span>, <span class="st">"SELECT * FROM mtcars"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> RecordBatchReader</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mpg: double</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cyl: double</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> disp: double</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> hp: double</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> drat: double</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> wt: double</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> qsec: double</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> vs: double</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> am: double</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> gear: double</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> carb: double</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> See $metadata for additional Schema metadata</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="dbDisconnect.html">dbDisconnect</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by R Special Interest Group on Databases (R-SIG-DB), Hadley Wickham, <a href="https://krlmlr.info" class="external-link">Kirill Müller</a>, R Consortium.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.9000.</p>
</div>

      </footer></div>

  


  

  </body></html>

